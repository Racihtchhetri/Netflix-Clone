<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="images/Netflix_Symbol_RGB.png">
    <title>Netflix</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    nav {
        display: flex;
        align-items: center;
        padding: 10px 0px;
    }

    .logo {
        width: 9.25rem;
        height: 2.5rem;
    }

    .header {
        height: 150vh;
        background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(header-image.png);
        background-size: cover;
        background-position: center;
        padding: 10px 8%;
        position: relative;
    }

    .form {
        display: grid;
        justify-content: center;
        margin: 0px 411px;
        background-color: rgba(0, 0, 0, 0.7)
    }

    form {
        width: 400px;
        padding: 20px 0px 40px 0px;
    }

    label {
        color: #fff;
        opacity: 1;
    }

    .mb-3 {
        padding: 0px 50px;

    }

    .fgt-pass {
        display: flex;
        justify-content: center;
    }

    .fgt-pass a {
        text-decoration: none;
        color: white;
        padding: 10px 60px;
    }

    .form-text {
        color: white;
    }

    .sign_in {
        color: white;
        padding: 10px 60px;
    }

    .footer {
        display: block;
        width: 400px;
        padding: 0px 50px;
    }
</style>

<body>
    <div class="header">
        <nav>
            <img src="logo.png" class="logo">

        </nav>

        <div class="form">
            <form action="login.php" method="post">
                <div class="sign_in">
                    <h1>Sign In</h1>
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" name="name"
                        aria-describedby="emailHelp">
                    <div id="emailHelp" class="form-text" style="font-size: 13px;">We'll never share your email with
                        anyone else.</div>
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Password</label>
                    <input type="password" class="form-control" name="password" id="password">
                </div>
                <div class="mb-3">
                    <button id="submitBtn" style="width: 300px;" type="submit" class="btn btn-danger">Sign In</button>
                </div>
                <div class="fgt-pass">
                    <a href="#">Forgot password?</a>
                </div>
            </form>
            <div class="footer">
                <div class="form-c">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="disabledFieldsetCheck" disabled="">
                        <label class="form-check-label" for="disabledFieldsetCheck">
                            Remember me
                            <p>New to Netflix? <a href="membership-login.php">Sign up now.</a></p>
                            <span>This page is protected by Google reCAPTCHA to ensure you're not a bot.<a href="#">
                                    Learn more.</a></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>
<script>
    document.getElementById("submitBtn").addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the form from submitting

             // Get the values of the username and password fields
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

             // Prepare the data to be sent as JSON
             var data = {
                email: email,
                password: password
             };
             fetch('login.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data) // Convert the data to JSON format
            })
            .then((response) => {
                return response.text(); // Return the response text
            })
            .then((data) => {
                console.log(data);
                if (data === 'success') {
                    window.location.href = "index.html";
                } else {
                    alert("invalid password");
                }
            })
            .catch((error) => {
                console.error(error);
            });
    });
</script>
</html>